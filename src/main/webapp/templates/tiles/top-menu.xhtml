<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui">
<h:body>
  <h:form id="menuForm">
    <p:menubar rendered="#{request.getUserPrincipal() != null}" toggleEvent="click">
      <p:menuitem action="/pages/index.xhtml?faces-redirect=true" onstart="PF('changePage').show()">
        <h:graphicImage library="img" name="favicon.png" height="15"/>
      </p:menuitem>
      <p:menuitem value="Usuários"
                  action="/pages/user/list.xhtml?faces-redirect=true" ajax="false"
                  rendered="#{sessionCtrl.isUserInRoles('ADMINISTRADOR')}"
                  icon="fa fa-user" onstart="PF('changePage').show()"/>
      <p:menuitem value="Pré-Internação"
                  action="/pages/guias/list.xhtml?faces-redirect=true" ajax="false"
                  icon="fa fa-ambulance" onstart="PF('changePage').show()"/>
      <p:menuitem value="OPME"
                  action="/pages/contrato/list.xhtml?faces-redirect=true" ajax="false"
                  icon="fa fa-user-md" onstart="PF('changePage').show()"/>
      <f:facet name="options">

        <h:panelGroup style="margin-top: 3px;" layout="block">
          <p:commandButton value="#{sessionCtrl.username}"
                           icon="fa fa-user" rendered="#{request.getUserPrincipal() != null}" />
          <p:commandButton value="Logout" action="#{sessionCtrl.logout}"
                           icon="fa fa-sign-out"
                           rendered="#{request.getUserPrincipal() != null}" onstart="PF('changePage').show()" styleClass="margin-left"/>
        </h:panelGroup>
      </f:facet>
    </p:menubar>
  </h:form>
</h:body>
</html>
